{
  "version": 1,
  "consumer": "api-gateway",
  "providers": [
    "orchestrator-service",
    "research-agent",
    "conversation-service"
  ],
  "http": [
    {
      "route": "/api/chat/{path:path}",
      "methods": [
        "GET",
        "POST",
        "PUT",
        "DELETE",
        "PATCH",
        "OPTIONS",
        "HEAD"
      ],
      "provider_default": "orchestrator-service",
      "legacy_toggle": "ROUTE_CHAT_USE_LEGACY",
      "request_content_types": [
        "application/json"
      ],
      "response_content_types": [
        "application/json",
        "text/event-stream"
      ]
    },
    {
      "route": "/v1/content/{path:path}",
      "methods": [
        "GET",
        "POST",
        "PUT",
        "DELETE",
        "PATCH",
        "OPTIONS",
        "HEAD"
      ],
      "provider_default": "research-agent",
      "request_content_types": [
        "application/json"
      ],
      "response_content_types": [
        "application/json"
      ]
    }
  ],
  "websocket": [
    {
      "route": "/api/chat/ws",
      "provider_default": "conversation-service",
      "legacy_toggle": "ROUTE_CHAT_WS_USE_LEGACY",
      "ttl_toggle": "ROUTE_CHAT_WS_LEGACY_TTL",
      "versioning": {
        "subprotocol": "jwt",
        "query_fallback": "token",
        "api_version": "v1"
      },
      "envelope": {
        "incoming_required_fields": [
          "question"
        ],
        "outgoing_required_fields": [
          "status",
          "response"
        ]
      }
    },
    {
      "route": "/admin/api/chat/ws",
      "provider_default": "conversation-service",
      "legacy_toggle": "ROUTE_ADMIN_CHAT_WS_USE_LEGACY",
      "ttl_toggle": "ROUTE_ADMIN_CHAT_WS_LEGACY_TTL",
      "versioning": {
        "subprotocol": "jwt",
        "query_fallback": "token",
        "api_version": "v1"
      },
      "envelope": {
        "incoming_required_fields": [
          "question"
        ],
        "outgoing_required_fields": [
          "status",
          "response"
        ]
      }
    }
  ]
}
